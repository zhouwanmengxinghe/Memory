# 我们的回忆 - 情侣时间轴App

一个专为情侣设计的本地回忆记录应用，帮助记录和回顾美好时光。

## 功能特色

### 📝 回忆记录
- **标题和日期**：为每个回忆添加标题和日期
- **文字留言**：记录详细的回忆内容
- **多张照片**：支持选择多张照片保存美好瞬间
- **语音留言**：录制语音，保存当时的声音和情感

### 💕 纪念日管理
- **纪念日记录**：记录重要的纪念日和特殊日子
- **天数计算**：自动计算距离纪念日的天数
- **重要标记**：可标记重要纪念日进行特别提醒
- **详细描述**：为每个纪念日添加详细描述

### 💾 数据备份
- **导出备份**：将所有回忆和纪念日数据导出为备份文件
- **导入恢复**：从备份文件恢复数据到新设备
- **完整备份**：包含文字、照片、音频的完整数据备份
- **文件分享**：可通过系统分享功能发送备份文件

### 🎨 精美界面
- **浪漫粉色主题**：温馨浪漫的粉色系配色
- **卡片式设计**：优雅的Material Design风格
- **爱心动画**：浮动爱心增添浪漫氛围
- **直观操作**：简洁易用的用户界面

### 🔒 数据安全
- **本地存储**：所有数据存储在手机本地，无需联网
- **隐私保护**：不会上传任何个人数据到服务器
- **完全离线**：无需网络连接即可使用

### 🎲 特色功能
- **随机回忆**：点击顶部按钮随机查看一个美好回忆
- **时间轴浏览**：按时间顺序浏览所有回忆
- **详情查看**：点击卡片查看回忆的完整内容
- **编辑删除**：随时编辑或删除回忆内容

## 技术架构

### 核心技术栈
- **Jetpack Compose**：现代化的UI框架
- **Room数据库**：本地数据持久化
- **ViewModel + LiveData**：MVVM架构模式
- **Coil**：图片加载和显示
- **MediaPlayer/MediaRecorder**：音频录制和播放

### 项目结构
```
app/src/main/java/com/example/myapplication1/
├── data/                    # 数据层
│   ├── MemoryEvent.kt      # 回忆数据模型
│   ├── MemoryEventDao.kt   # 回忆数据访问对象
│   ├── Anniversary.kt      # 纪念日数据模型
│   ├── AnniversaryDao.kt   # 纪念日数据访问对象
│   ├── MemoryDatabase.kt   # 数据库配置
│   ├── MemoryRepository.kt # 数据仓库
│   └── Converters.kt       # 类型转换器
├── ui/
│   ├── screens/            # 页面组件
│   │   ├── HomeScreen.kt   # 主页面
│   │   ├── AddEditEventScreen.kt # 添加/编辑回忆页面
│   │   ├── EventDetailScreen.kt  # 回忆详情页面
│   │   └── AnniversaryScreen.kt  # 纪念日管理页面
│   ├── components/         # UI组件
│   │   ├── MemoryComponents.kt   # 回忆卡片组件
│   │   └── AnimationComponents.kt # 动画组件
│   └── theme/              # 主题配置
│       ├── Color.kt        # 颜色定义
│       ├── Theme.kt        # 主题配置
│       └── Type.kt         # 字体配置
├── utils/                  # 工具类
│   ├── AudioManager.kt     # 音频管理
│   ├── FileUtils.kt        # 文件工具
│   └── ExportImportUtils.kt # 导入导出工具
├── viewmodel/              # 视图模型
│   ├── MemoryViewModel.kt  # 回忆视图模型
│   └── AnniversaryViewModel.kt # 纪念日视图模型
├── di/                     # 依赖注入
│   └── DatabaseModule.kt   # 数据库模块
└── MainActivity.kt         # 主活动
```

## 使用说明

### 添加回忆
1. 点击右下角的爱心浮动按钮
2. 填写回忆标题
3. 选择日期（默认为今天）
4. 添加文字留言
5. 可选择添加多张照片（点击照片区域）
6. 可选择录制语音（长按录音按钮）
7. 点击保存按钮

### 查看回忆
- 在主页面滚动浏览所有回忆
- 点击回忆卡片查看详细内容
- 点击顶部随机按钮查看随机回忆

### 编辑回忆
- 在回忆卡片上点击编辑按钮
- 或在详情页面点击编辑按钮
- 修改内容后保存

### 删除回忆
- 在回忆卡片上点击删除按钮
- 或在详情页面点击删除按钮
- 确认删除操作

### 纪念日管理
- 点击主页面顶部的纪念日按钮进入纪念日页面
- 点击右上角的 + 号添加新纪念日
- 填写纪念日名称、日期和描述
- 可标记为重要纪念日
- 自动计算距离纪念日的天数
- 支持编辑和删除纪念日

### 数据备份
- **导出备份**：点击主页面菜单中的"导出备份"
- **导入备份**：点击主页面菜单中的"导入备份"，选择备份文件
- **分享备份**：导出后可通过系统分享功能发送备份文件
- 备份包含所有回忆、纪念日、照片和音频文件

### 音频功能
- **录制**：在添加/编辑页面长按录音按钮
- **播放**：点击回忆卡片或详情页面的播放按钮
- **停止**：再次点击播放按钮停止播放

## 权限说明

应用需要以下权限：
- **录音权限**：用于录制语音留言
- **存储权限**：用于保存和读取照片、音频文件
- **媒体权限**：用于访问相册选择照片

## 数据存储

- **数据库**：使用Room数据库存储回忆信息
- **文件存储**：照片和音频文件存储在应用私有目录
- **本地化**：所有数据完全存储在本地，保护隐私

## 开发环境

- **Android Studio**：推荐使用最新版本
- **Kotlin**：1.9.0+
- **Compose BOM**：2024.02.00
- **最低SDK**：24 (Android 7.0)
- **目标SDK**：34 (Android 14)

## 构建和运行

1. 克隆项目到本地
2. 使用Android Studio打开项目
3. 等待Gradle同步完成
4. 连接Android设备或启动模拟器
5. 点击运行按钮或使用命令：
   ```bash
   ./gradlew installDebug
   ```


## 许可证

本项目仅供学习和个人使用。

---

💕 **愿这个应用能帮助你们记录每一个美好瞬间！** 💕